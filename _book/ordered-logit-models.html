<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Chapter 5 Ordered Logit Models | Legal Education Analysis in R</title>
  <meta name="description" content="This is a minimal example of using the bookdown package to write a book. The output format for this example is bookdown::gitbook.">
  <meta name="generator" content="bookdown  and GitBook 2.6.7">

  <meta property="og:title" content="Chapter 5 Ordered Logit Models | Legal Education Analysis in R" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is a minimal example of using the bookdown package to write a book. The output format for this example is bookdown::gitbook." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 5 Ordered Logit Models | Legal Education Analysis in R" />
  
  <meta name="twitter:description" content="This is a minimal example of using the bookdown package to write a book. The output format for this example is bookdown::gitbook." />
  

<meta name="author" content="Richard G. Gardiner">


<meta name="date" content="2019-05-15">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="logit-models.html">
<link rel="next" href="multi-level-models.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">A Minimal Book Example</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> About the Book</a></li>
<li class="chapter" data-level="2" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>2</b> Introduction</a></li>
<li class="chapter" data-level="3" data-path="ols.html"><a href="ols.html"><i class="fa fa-check"></i><b>3</b> OLS</a><ul>
<li class="chapter" data-level="3.1" data-path="ols.html"><a href="ols.html#intuition"><i class="fa fa-check"></i><b>3.1</b> Intuition</a></li>
<li class="chapter" data-level="3.2" data-path="ols.html"><a href="ols.html#running-your-first-regression"><i class="fa fa-check"></i><b>3.2</b> Running your first regression</a></li>
<li class="chapter" data-level="3.3" data-path="ols.html"><a href="ols.html#advancing-to-multiple-regression"><i class="fa fa-check"></i><b>3.3</b> Advancing to Multiple Regression</a></li>
<li class="chapter" data-level="3.4" data-path="ols.html"><a href="ols.html#checking-assumptions"><i class="fa fa-check"></i><b>3.4</b> Checking Assumptions</a><ul>
<li class="chapter" data-level="3.4.1" data-path="ols.html"><a href="ols.html#normality"><i class="fa fa-check"></i><b>3.4.1</b> Normality</a></li>
<li class="chapter" data-level="3.4.2" data-path="ols.html"><a href="ols.html#heteroskedasticity"><i class="fa fa-check"></i><b>3.4.2</b> Heteroskedasticity</a></li>
<li class="chapter" data-level="3.4.3" data-path="ols.html"><a href="ols.html#multicollinearity"><i class="fa fa-check"></i><b>3.4.3</b> Multicollinearity</a></li>
<li class="chapter" data-level="3.4.4" data-path="ols.html"><a href="ols.html#outliers-and-leverage"><i class="fa fa-check"></i><b>3.4.4</b> Outliers and leverage</a></li>
<li class="chapter" data-level="3.4.5" data-path="ols.html"><a href="ols.html#autocorrelation"><i class="fa fa-check"></i><b>3.4.5</b> Autocorrelation</a></li>
<li class="chapter" data-level="3.4.6" data-path="ols.html"><a href="ols.html#residual-analysis"><i class="fa fa-check"></i><b>3.4.6</b> Residual Analysis</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="ols.html"><a href="ols.html#displaying-results"><i class="fa fa-check"></i><b>3.5</b> Displaying Results</a><ul>
<li class="chapter" data-level="3.5.1" data-path="ols.html"><a href="ols.html#tables"><i class="fa fa-check"></i><b>3.5.1</b> Tables</a></li>
<li class="chapter" data-level="3.5.2" data-path="ols.html"><a href="ols.html#coefplots"><i class="fa fa-check"></i><b>3.5.2</b> Coefplots</a></li>
<li class="chapter" data-level="3.5.3" data-path="ols.html"><a href="ols.html#graphing-predictions"><i class="fa fa-check"></i><b>3.5.3</b> Graphing predictions</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="logit-models.html"><a href="logit-models.html"><i class="fa fa-check"></i><b>4</b> Logit Models</a><ul>
<li class="chapter" data-level="4.1" data-path="logit-models.html"><a href="logit-models.html#introducing-logit-models"><i class="fa fa-check"></i><b>4.1</b> Introducing Logit Models</a></li>
<li class="chapter" data-level="4.2" data-path="logit-models.html"><a href="logit-models.html#example-of-logit-model"><i class="fa fa-check"></i><b>4.2</b> Example of Logit Model</a></li>
<li class="chapter" data-level="4.3" data-path="logit-models.html"><a href="logit-models.html#adding-predictions"><i class="fa fa-check"></i><b>4.3</b> Adding Predictions</a></li>
<li class="chapter" data-level="4.4" data-path="logit-models.html"><a href="logit-models.html#how-did-our-model-do"><i class="fa fa-check"></i><b>4.4</b> How did our model do?</a></li>
<li class="chapter" data-level="4.5" data-path="logit-models.html"><a href="logit-models.html#final-words"><i class="fa fa-check"></i><b>4.5</b> Final Words</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="ordered-logit-models.html"><a href="ordered-logit-models.html"><i class="fa fa-check"></i><b>5</b> Ordered Logit Models</a><ul>
<li class="chapter" data-level="5.1" data-path="ordered-logit-models.html"><a href="ordered-logit-models.html#data-and-packages"><i class="fa fa-check"></i><b>5.1</b> Data and Packages</a></li>
<li class="chapter" data-level="5.2" data-path="ordered-logit-models.html"><a href="ordered-logit-models.html#running-the-model"><i class="fa fa-check"></i><b>5.2</b> Running the Model</a></li>
<li class="chapter" data-level="5.3" data-path="ordered-logit-models.html"><a href="ordered-logit-models.html#gettin-predictions"><i class="fa fa-check"></i><b>5.3</b> Gettin predictions:</a></li>
<li class="chapter" data-level="5.4" data-path="ordered-logit-models.html"><a href="ordered-logit-models.html#showing-predictions"><i class="fa fa-check"></i><b>5.4</b> Showing predictions</a></li>
<li class="chapter" data-level="5.5" data-path="ordered-logit-models.html"><a href="ordered-logit-models.html#graphing-in-a-tidy-way"><i class="fa fa-check"></i><b>5.5</b> Graphing in a Tidy Way</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="multi-level-models.html"><a href="multi-level-models.html"><i class="fa fa-check"></i><b>6</b> Multi Level Models</a><ul>
<li class="chapter" data-level="6.1" data-path="multi-level-models.html"><a href="multi-level-models.html#introduction"><i class="fa fa-check"></i><b>6.1</b> Introduction</a><ul>
<li class="chapter" data-level="6.1.1" data-path="multi-level-models.html"><a href="multi-level-models.html#full-model"><i class="fa fa-check"></i><b>6.1.1</b> full model</a></li>
<li class="chapter" data-level="6.1.2" data-path="multi-level-models.html"><a href="multi-level-models.html#building-the-model"><i class="fa fa-check"></i><b>6.1.2</b> building the model</a></li>
<li class="chapter" data-level="6.1.3" data-path="multi-level-models.html"><a href="multi-level-models.html#understanding-and-reporting-the-outputs"><i class="fa fa-check"></i><b>6.1.3</b> Understanding and reporting the outputs</a></li>
<li class="chapter" data-level="6.1.4" data-path="multi-level-models.html"><a href="multi-level-models.html#communicating-results"><i class="fa fa-check"></i><b>6.1.4</b> Communicating results</a></li>
<li class="chapter" data-level="6.1.5" data-path="multi-level-models.html"><a href="multi-level-models.html#model-comparison-with-anova"><i class="fa fa-check"></i><b>6.1.5</b> Model comparison with Anova</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="multi-level-models.html"><a href="multi-level-models.html#glms"><i class="fa fa-check"></i><b>6.2</b> GLMs</a><ul>
<li class="chapter" data-level="6.2.1" data-path="multi-level-models.html"><a href="multi-level-models.html#binomial-data"><i class="fa fa-check"></i><b>6.2.1</b> Binomial Data</a></li>
<li class="chapter" data-level="6.2.2" data-path="multi-level-models.html"><a href="multi-level-models.html#count-models"><i class="fa fa-check"></i><b>6.2.2</b> Count models</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="multi-level-models.html"><a href="multi-level-models.html#repeated-measures"><i class="fa fa-check"></i><b>6.3</b> Repeated Measures</a><ul>
<li class="chapter" data-level="6.3.1" data-path="multi-level-models.html"><a href="multi-level-models.html#paired-t-test"><i class="fa fa-check"></i><b>6.3.1</b> Paired T-test</a></li>
<li class="chapter" data-level="6.3.2" data-path="multi-level-models.html"><a href="multi-level-models.html#repeated-measures-anova"><i class="fa fa-check"></i><b>6.3.2</b> Repeated Measures ANOVA</a></li>
<li class="chapter" data-level="6.3.3" data-path="multi-level-models.html"><a href="multi-level-models.html#example-ny-hate-crime-data"><i class="fa fa-check"></i><b>6.3.3</b> Example: NY Hate Crime Data</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="count-data.html"><a href="count-data.html"><i class="fa fa-check"></i><b>7</b> Count Data</a></li>
<li class="chapter" data-level="8" data-path="lets-fit-the-first-one.html"><a href="lets-fit-the-first-one.html"><i class="fa fa-check"></i><b>8</b> let’s fit the first one:</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Legal Education Analysis in R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="ordered-logit-models" class="section level1">
<h1><span class="header-section-number">Chapter 5</span> Ordered Logit Models</h1>
<div id="data-and-packages" class="section level2">
<h2><span class="header-section-number">5.1</span> Data and Packages</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(tidyverse)
<span class="kw">library</span>(modelr)
<span class="kw">library</span>(haven)</code></pre></div>
<pre><code>## Warning: package &#39;haven&#39; was built under R version 3.5.2</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(broom)

satisfaction &lt;-<span class="st"> </span><span class="kw">read_dta</span>(<span class="st">&quot;http://j.mp/SINGHejpr&quot;</span>)</code></pre></div>
<p>In this dataset we want to model each respondent’s level of satisfaction with democracy. This variable can be a 1, 2, 3, 4. We can say they are ordered, but we don’t know the distance. 4 is Very satisfied. Because they are ordered, we should run an ordered logit/probit.</p>
</div>
<div id="running-the-model" class="section level2">
<h2><span class="header-section-number">5.2</span> Running the Model</h2>
<p>We will likely want to use the polr (proportional odds logistic regression) command from the MASS package.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(MASS)</code></pre></div>
<pre><code>## 
## Attaching package: &#39;MASS&#39;</code></pre>
<pre><code>## The following object is masked from &#39;package:dplyr&#39;:
## 
##     select</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(effects)</code></pre></div>
<pre><code>## Warning: package &#39;effects&#39; was built under R version 3.5.2</code></pre>
<pre><code>## lattice theme set by effectsTheme()
## See ?effectsTheme for details.</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">satisfaction<span class="op">$</span>satisfaction &lt;-<span class="st"> </span><span class="kw">ordered</span>(<span class="kw">as.factor</span>(satisfaction<span class="op">$</span>satisfaction))

ideology_satis &lt;-<span class="st"> </span><span class="kw">polr</span>(satisfaction <span class="op">~</span><span class="st"> </span>voted_ideo<span class="op">*</span>winner <span class="op">+</span><span class="st"> </span>abstained <span class="op">+</span>
<span class="st">                         </span>educ <span class="op">+</span><span class="st"> </span>efficacy <span class="op">+</span><span class="st"> </span>majoritarian_prez <span class="op">+</span><span class="st"> </span>freedom <span class="op">+</span><span class="st"> </span>gdppercapPPP <span class="op">+</span>
<span class="st">                         </span>gdpgrowth <span class="op">+</span><span class="st"> </span>CPI <span class="op">+</span><span class="st"> </span>prez,
                       <span class="dt">method =</span> <span class="st">&quot;logistic&quot;</span>, <span class="dt">data =</span> satisfaction)
<span class="kw">summary</span>(ideology_satis)</code></pre></div>
<pre><code>## 
## Re-fitting to get Hessian</code></pre>
<pre><code>## Call:
## polr(formula = satisfaction ~ voted_ideo * winner + abstained + 
##     educ + efficacy + majoritarian_prez + freedom + gdppercapPPP + 
##     gdpgrowth + CPI + prez, data = satisfaction, method = &quot;logistic&quot;)
## 
## Coefficients:
##                      Value Std. Error  t value
## voted_ideo        -0.02170   0.023596  -0.9198
## winner             0.21813   0.020638  10.5694
## abstained         -0.25425   0.020868 -12.1838
## educ               0.08238   0.020180   4.0824
## efficacy           0.16246   0.006211  26.1569
## majoritarian_prez  0.05705   0.018049   3.1609
## freedom            0.04770   0.014087   3.3863
## gdppercapPPP       0.01975   0.001385  14.2578
## gdpgrowth          0.06653   0.003188  20.8673
## CPI               -0.23153   0.005810 -39.8537
## prez              -0.11503   0.026185  -4.3930
## voted_ideo:winner  0.19004   0.037294   5.0957
## 
## Intercepts:
##     Value    Std. Error t value 
## 1|2  -2.0501   0.0584   -35.1284
## 2|3  -0.0588   0.0575    -1.0228
## 3|4   2.7315   0.0586    46.6423
## 
## Residual Deviance: 146397.33 
## AIC: 146427.33</code></pre>
<p>Note that the polr command requires that our outcome variable is ordered numerically. Also notice the interaction term. While the output shows t-values, they are actually z values since maximum likelihood methods typically call for z ratios. Lastly, note the different intercept cutpoints. These are generally not of interest to us, but are useful when it comes to making predictions.</p>
<p>If we wanted to get the p-value of a specific variable (voted_ideo:winner for instance) then we could run the following code with the z ratio.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="dv">1</span> <span class="op">-</span><span class="st"> </span><span class="kw">pnorm</span>(<span class="fl">5.0957</span>)</code></pre></div>
<pre><code>## [1] 1.737275e-07</code></pre>
<p>We can conclude with 99.9% confidence that the coefficient on the interaction term is greater than zero.</p>
<p>A nice teature of using the logit link function is that the results can be inerpreted in terms of odd ratios, though they have to be computed differently for ordinal models compared to logit models. FOr logit models, we must exponentiate the negative value of a coefficient and interpret the odds of being in lower groups relative to higher groups. For example: the odds ratio for our coefficients from the model above can be produced by the following code:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="dv">100</span><span class="op">*</span>(<span class="kw">exp</span>(<span class="op">-</span>ideology_satis<span class="op">$</span>coefficients)<span class="op">-</span><span class="dv">1</span>)</code></pre></div>
<pre><code>##        voted_ideo            winner         abstained              educ 
##          2.194186        -19.597657         28.949139         -7.908003 
##          efficacy majoritarian_prez           freedom      gdppercapPPP 
##        -14.994659         -5.545347         -4.658313         -1.955471 
##         gdpgrowth               CPI              prez voted_ideo:winner 
##         -6.436961         26.053177         12.190773        -17.307376</code></pre>
<p>If, for instance, we wanted to interpret the influence of efficiency, then we could say that for a one point incrase on a five point efficacy scale, the odds a respondent will report that they are “not at all satisfied” with democracy relative to any of the three categories decrease by 15%, all else equal. Also, the odds that a respondent will report “not at all satisfied” or “not very satisfied” relative to the two higher categories also decrease by 15%, all else equal. In general then, we can interpret the oddds ratio for an ordered logit as shaping the odds of all optiosn below a threshold relative to all options above a threshold.</p>
</div>
<div id="gettin-predictions" class="section level2">
<h2><span class="header-section-number">5.3</span> Gettin predictions:</h2>
<p>Here I am doing the discrete class predicted, not the predicted probabilities. If you want to see predicted probabilities, see the section of <code>Graphing the Tidy Way</code>.</p>
<p>Somewhat uninteresting is that all of them are expected to be in the 3rd category.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">new_data &lt;-<span class="st"> </span>satisfaction <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">data_grid</span>(efficacy, <span class="dt">.model =</span> ideology_satis)
  

new_data &lt;-<span class="st"> </span>new_data <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">pred_class =</span> <span class="kw">predict</span>(ideology_satis, new_data, <span class="dt">type =</span> <span class="st">&quot;class&quot;</span>))

new_data</code></pre></div>
<pre><code>## # A tibble: 5 x 12
##   efficacy voted_ideo winner abstained  educ majoritarian_pr~ freedom
##      &lt;dbl&gt;      &lt;dbl&gt;  &lt;dbl&gt;     &lt;dbl&gt; &lt;dbl&gt;            &lt;dbl&gt;   &lt;dbl&gt;
## 1        1          0      0         0     0                0      -1
## 2        2          0      0         0     0                0      -1
## 3        3          0      0         0     0                0      -1
## 4        4          0      0         0     0                0      -1
## 5        5          0      0         0     0                0      -1
## # ... with 5 more variables: gdppercapPPP &lt;dbl&gt;, gdpgrowth &lt;dbl&gt;,
## #   CPI &lt;dbl&gt;, prez &lt;dbl&gt;, pred_class &lt;fct&gt;</code></pre>
</div>
<div id="showing-predictions" class="section level2">
<h2><span class="header-section-number">5.4</span> Showing predictions</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">Effect</span>(<span class="dt">focal.predictors =</span> <span class="kw">c</span>(<span class="st">&quot;voted_ideo&quot;</span>, <span class="st">&quot;winner&quot;</span>), ideology_satis)</code></pre></div>
<pre><code>## 
## Re-fitting to get Hessian</code></pre>
<pre><code>## 
## voted_ideo*winner effect (probability) for 1
##           winner
## voted_ideo          0        0.2        0.5        0.8          1
##        0   0.07738718 0.07432926 0.06995037 0.06581111 0.06317929
##        0.2 0.07769769 0.07410523 0.06900243 0.06422663 0.06121568
##        0.5 0.07816558 0.07377033 0.06760280 0.06191642 0.05837700
##        0.8 0.07863605 0.07343684 0.06622953 0.05968401 0.05566216
##        1   0.07895114 0.07321528 0.06532847 0.05823785 0.05391873
## 
## voted_ideo*winner effect (probability) for 2
##           winner
## voted_ideo         0       0.2       0.5       0.8         1
##        0   0.3031896 0.2960183 0.2852714 0.2745687 0.2674749
##        0.2 0.3039029 0.2954823 0.2828681 0.2703255 0.2620302
##        0.5 0.3049728 0.2946783 0.2792682 0.2639884 0.2539215
##        0.8 0.3060424 0.2938744 0.2756754 0.2576905 0.2458946
##        1   0.3067553 0.2933386 0.2732849 0.2535167 0.2405948
## 
## voted_ideo*winner effect (probability) for 3
##           winner
## voted_ideo         0       0.2       0.5       0.8         1
##        0   0.5285674 0.5351282 0.5445027 0.5532844 0.5587926
##        0.2 0.5279015 0.5356088 0.5465232 0.5566096 0.5628467
##        0.5 0.5268982 0.5363271 0.5494974 0.5614062 0.5685967
##        0.8 0.5258898 0.5370422 0.5524023 0.5659676 0.5739373
##        1   0.5252147 0.5375173 0.5542999 0.5688746 0.5772640
## 
## voted_ideo*winner effect (probability) for 4
##           winner
## voted_ideo          0        0.2       0.5       0.8         1
##        0   0.09085585 0.09452425 0.1002756 0.1063358 0.1105532
##        0.2 0.09049792 0.09480369 0.1016063 0.1088383 0.1139074
##        0.5 0.08996341 0.09522425 0.1036317 0.1126889 0.1191048
##        0.8 0.08943174 0.09564648 0.1056927 0.1166580 0.1245060
##        1   0.08907887 0.09592889 0.1070867 0.1193709 0.1282225</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">plot</span>(<span class="kw">Effect</span>(<span class="dt">focal.predictors =</span> <span class="kw">c</span>(<span class="st">&quot;voted_ideo&quot;</span>, <span class="st">&quot;winner&quot;</span>), ideology_satis))</code></pre></div>
<pre><code>## 
## Re-fitting to get Hessian</code></pre>
<p><img src="Bookdown_files/figure-html/unnamed-chunk-45-1.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">plot</span>(<span class="kw">Effect</span>(<span class="dt">focal.predictors =</span> <span class="st">&quot;efficacy&quot;</span>, ideology_satis))</code></pre></div>
<pre><code>## 
## Re-fitting to get Hessian</code></pre>
<p><img src="Bookdown_files/figure-html/unnamed-chunk-46-1.png" width="672" /></p>
</div>
<div id="graphing-in-a-tidy-way" class="section level2">
<h2><span class="header-section-number">5.5</span> Graphing in a Tidy Way</h2>
<p>I am not sure if I have greally graphed this correctly, but this is what I could come up with.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">pred &lt;-<span class="st"> </span><span class="kw">predict</span>(ideology_satis, <span class="dt">type =</span> <span class="st">&quot;probs&quot;</span>)


prediction &lt;-<span class="st"> </span><span class="kw">cbind</span>(satisfaction, pred)


prediction <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">rename</span>(<span class="st">&quot;one&quot;</span> =<span class="st"> </span><span class="dv">22</span>,
         <span class="st">&quot;two&quot;</span> =<span class="st"> </span><span class="dv">23</span>,
         <span class="st">&quot;three&quot;</span> =<span class="st"> </span><span class="dv">24</span>,
         <span class="st">&quot;four&quot;</span> =<span class="st"> </span><span class="dv">25</span>) <span class="op">%&gt;%</span>
<span class="st">  </span>dplyr<span class="op">::</span><span class="kw">select</span>(efficacy, one, two, three, four) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">gather</span>(outcome, prediction, <span class="op">-</span>efficacy) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">outcome =</span> <span class="kw">factor</span>(outcome, <span class="dt">levels =</span> <span class="kw">c</span>(<span class="st">&quot;one&quot;</span>, <span class="st">&quot;two&quot;</span>, <span class="st">&quot;three&quot;</span>, <span class="st">&quot;four&quot;</span>))) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> prediction, <span class="dt">fill =</span> <span class="kw">as.factor</span>(efficacy))) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_histogram</span>() <span class="op">+</span>
<span class="st">  </span><span class="kw">facet_wrap</span>(efficacy<span class="op">~</span>outcome, <span class="dt">ncol =</span> <span class="dv">4</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">labs</span>(<span class="dt">fill =</span> <span class="st">&quot;Efficacy Levels&quot;</span>)</code></pre></div>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="Bookdown_files/figure-html/unnamed-chunk-47-1.png" width="672" /></p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="logit-models.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="multi-level-models.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"download": ["Bookdown.pdf", "Bookdown.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
